{"version":3,"sources":["webpack://ion-action-button/webpack/universalModuleDefinition","webpack://ion-action-button/webpack/bootstrap","webpack://ion-action-button/./src/action-button.controller.js","webpack://ion-action-button/./src/action-button.html","webpack://ion-action-button/./src/action-button.component.js","webpack://ion-action-button/./src/utils/uuid.js","webpack://ion-action-button/./src/utils/isNil.js","webpack://ion-action-button/./src/action-button.factory.js","webpack://ion-action-button/./src/action-button.module.js","webpack://ion-action-button/./src/index.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","ActionButtonComponentCtrl","$timeout","_classCallCheck","this","data","openMenu","dispatcher","_this","onCreate","options","buttons","length","type","_actionButton","_actionButton3","ActionButtonComponent","template","ActionButtonTemplate","bindings","controller","uuid","Date","getTime","replace","Math","random","floor","toString","isNil","val","undefined","_isNil","_uuid","$actionButton","$rootScope","$compile","$ionicBody","$animate","assign","scope","$new","visible","removeOnStateChange","menuOpened","id","element","mainButtonElement","secondaryButtonsContainer","append","removeButton","removed","addClass","then","$destroy","remove","buttonClicked","mainAction","onClick","removeClass","index","show","angular","document","getElementById","startHidden","showButton","hideButton","__rootListener","$on","hide","ActionButtonFactory","_actionButton2","component","MODULE"],"mappings":"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","file":"ion-action-button.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"ion-action-button\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ion-action-button\"] = factory();\n\telse\n\t\troot[\"ion-action-button\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n","'use strict'\n\nclass ActionButtonComponentCtrl {\n  constructor ($timeout) {\n    'ngInject'\n    this.$timeout = $timeout\n  }\n\n  closeMenu (data) {\n    // we simulate a main button touch order to close\n    data.openMenu = true\n    this.dispatcher({\n      data: data\n    })\n  }\n\n  $postLink () {\n    this.$timeout(() => {\n      this.onCreate()\n    })\n  }\n\n  buttonClicked (data) {\n    // if the element has no buttons configured...\n    if (!this.options.buttons || !this.options.buttons.length) {\n      this.dispatcher({ data })\n      return\n    }\n\n    // if the element has buttons configured...\n    // we pass the openMenu true prop...\n    if (data.type === 'main') {\n      data.openMenu = true\n      this.dispatcher({ data })\n      return\n    }\n\n    // any other click here has to be from a small button\n    this.dispatcher({ data })\n  }\n}\n\nexport { ActionButtonComponentCtrl }\n","module.exports = \"<div ng-animate-children=true>\\n  <div id=action-button-small-container-{{$ctrl.options.id}} class=action-button-small-container ng-click=\\\"$ctrl.closeMenu({type: 'main', backgroundClick: true})\\\">\\n    <div class=action-button-small-container--individual ng-repeat=\\\"button in $ctrl.options.buttons\\\" ng-click=\\\"$ctrl.buttonClicked({type: 'secondary', index: $index})\\\">\\n      <span class=action-button-small--label ng-if=button.label>{{button.label}}</span>\\n      <button class=action-button-small ng-style=\\\"{'backgroundColor': button.backgroundColor, 'color': button.iconColor}\\\">\\n        <i class=\\\"action-button-small--icon icon\\\" ng-class=button.icon>\\n          <span class=action-button-small--icon__label ng-if=!button.icon>{{button.letter || button.label[0]}}</span>\\n        </i>\\n      </button>\\n    </div>\\n  </div>\\n  <button id=action-button-{{$ctrl.options.id}} class=action-button ng-click=\\\"$ctrl.buttonClicked({type: 'main'})\\\" ng-style=\\\"{'backgroundColor': $ctrl.options.mainAction.backgroundColor}\\\">\\n    <i class=\\\"action-button--icon icon action-button--icon__main\\\" ng-class=$ctrl.options.mainAction.icon ng-style=\\\"{'color': $ctrl.options.mainAction.textColor}\\\"></i>\\n    <i class=\\\"action-button--icon action-button-icon__close ion-android-close\\\" ng-style=\\\"{'color': $ctrl.options.mainAction.textColor}\\\"></i>\\n  </button>\\n</div>\\n\";","'use strict'\n\nimport ActionButtonTemplate from './action-button.html'\nimport './action-button.scss'\nimport { ActionButtonComponentCtrl } from './action-button.controller'\n\nlet ActionButtonComponent = {\n  template: ActionButtonTemplate,\n  bindings: {\n    options: '<',\n    dispatcher: '&',\n    onCreate: '&'\n  },\n  controller: ActionButtonComponentCtrl\n}\n\nexport { ActionButtonComponent }\n","\nfunction generateUUID () { // Public Domain/MIT\n  var d = new Date().getTime()\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    var r = (d + Math.random() * 16) % 16 | 0\n    d = Math.floor(d / 16)\n    return (c === 'x' ? r : (r & 0x3 | 0x8)).toString(16)\n  })\n}\n\nexport const uuid = generateUUID\n","\nexport const isNil = val => val === null || val === undefined\n","'use strict'\n\nimport { isNil } from './utils/isNil'\nimport { uuid } from './utils/uuid'\n\nclass $actionButton {\n  constructor ($rootScope, $compile, $ionicBody, $animate) {\n    Object.assign(this, { $rootScope, $compile, $ionicBody, $animate })\n  }\n\n  create (options) {\n    let scope = this.$rootScope.$new(true)\n    let visible = true\n\n    scope.options = options\n    scope.options.removeOnStateChange = isNil(options.removeOnStateChange) ? true : options.removeOnStateChange\n    scope.menuOpened = false\n\n    options.id = options.id || uuid()\n\n    //  Compile the template\n    let element = scope.element = this.$compile(`<ion-action-button on-create=\"show()\" options=\"options\" dispatcher=\"buttonClicked(data)\"></ion-action-button>`)(scope)\n\n    let mainButtonElement\n    let secondaryButtonsContainer\n\n    // append to the body\n    this.$ionicBody.append(element)\n\n    scope.removeButton = () => {\n      if (scope.removed) {\n        return\n      }\n\n      scope.removed = true\n      return this.$animate\n        .addClass(mainButtonElement, 'action-button-hide')\n        .then(() => {\n          visible = false\n          scope.$destroy()\n          element.remove()\n        })\n    }\n\n    scope.buttonClicked = (data) => {\n      // we handle main button clicks\n      if (data.type === 'main') {\n        // if we have secondary actions...\n        if (data.openMenu) {\n          // if menu is opened, we close it\n          if (scope.menuOpened) {\n            element.removeClass('action-button-menu-show')\n            element.addClass('action-button-menu-hide')\n            this.$animate.addClass(secondaryButtonsContainer, 'action-button-small-hide').then(() => {\n              secondaryButtonsContainer.removeClass('action-button-small-show')\n              secondaryButtonsContainer.removeClass('action-button-small-hide')\n              secondaryButtonsContainer.addClass('action-button-small-container__hidden')\n              scope.menuOpened = false\n            })\n          } else {\n            // if menu is closed, we open it\n            element.removeClass('action-button-menu-hide')\n            element.addClass('action-button-menu-show')\n            secondaryButtonsContainer.removeClass('action-button-small-container__hidden')\n            this.$animate.addClass(secondaryButtonsContainer, 'action-button-small-show')\n              .then(() => {\n                scope.menuOpened = true\n              })\n          }\n        } else {\n          // if we don't have secondary actions\n          if (scope.options.mainAction.onClick) {\n            return scope.options.mainAction.onClick()\n          }\n          return\n        }\n      }\n\n      if (data.type === 'secondary') {\n        if (scope.options.buttons[data.index].onClick) {\n          return scope.options.buttons[data.index].onClick()\n        }\n      }\n    }\n\n    scope.show = () => {\n      // hack to wait till the element is appended? dont know...\n      this.$animate.addClass(element, 'button-active').then(() => {\n        visible = true\n        mainButtonElement = angular.element(document.getElementById(`action-button-${options.id}`))\n        secondaryButtonsContainer = angular.element(document.getElementById(`action-button-small-container-${options.id}`))\n\n        if (scope.options.startHidden) {\n          return\n        }\n        return this.$animate.addClass(mainButtonElement, 'action-button-show')\n      })\n    }\n\n    scope.showButton = () => {\n      return this.$animate.addClass(mainButtonElement, 'action-button-show')\n        .then(() => {\n          visible = true\n        })\n    }\n\n    scope.hideButton = () => {\n      return this.$animate.addClass(mainButtonElement, 'action-button-hide').then(() => {\n        mainButtonElement.removeClass('action-button-show')\n        mainButtonElement.removeClass('action-button-hide')\n        element.removeClass('action-button-menu-hide')\n        visible = false\n      })\n    }\n\n    // auto remove when state changes\n    let __rootListener = this.$rootScope.$on('$stateChangeSuccess', () => {\n      if (scope.options.removeOnStateChange) {\n        scope.removeButton()\n        __rootListener()\n      }\n    })\n\n    return {\n      show: () => {\n        return scope.showButton()\n      },\n      hide: () => {\n        return scope.hideButton()\n      },\n      remove: () => {\n        return scope.removeButton()\n      },\n      visible: () => {\n        return visible\n      }\n    }\n  }\n}\n\nexport const ActionButtonFactory = ($rootScope, $compile, $ionicBody, $animate) => {\n  'ngInject'\n  return new $actionButton($rootScope, $compile, $ionicBody, $animate)\n}\n","'use strict'\n\nimport { ActionButtonFactory } from './action-button.factory'\nimport { ActionButtonComponent } from './action-button.component'\n\nconst moduleName = 'ionActionButton'\n\nlet module = angular.module(moduleName, [])\n  .component('ionActionButton', ActionButtonComponent)\n  .factory('$actionButton', ActionButtonFactory)\n\nexport const MODULE = module\n\nexport default moduleName\n","'use strict'\n\nimport './action-button.module'\n"],"sourceRoot":""}